(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(21),s=n(74),r=n.n(s),d=n(92),i=n(32),l=n(93),j=n.n(l),u=n(77),o=n(1);var h=function(){return Object(o.jsx)(u.a,{bg:"light",expand:"lg",children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)(u.a.Brand,{children:"Pro Cycling Schedule"})})})},b=n(26),O=n(63);function x(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(e=new Date(e)).getDay()]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getDate()}var v=function(e){var t=new Date(e.scheduled);return Object(o.jsx)("div",{className:"col-lg-4 col-6",children:Object(o.jsxs)("div",{className:"card p-2 card-body",children:[Object(o.jsx)("h6",{className:"card-title",children:e.description}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)("small",{className:"text-muted",children:x(t)})})]})})};var m=function(e){return Object(o.jsxs)("div",{title:"Add to Calendar",className:"addeventatc","data-styling":"none",children:[Object(o.jsx)("img",{src:"gfx/icon-calendar-t1.svg",alt:"Add to Calendar",style:{width:"18px"}}),Object(o.jsx)("span",{className:"start",children:e.scheduled.toString()}),Object(o.jsx)("span",{className:"end",children:e.scheduled_end.toString()}),Object(o.jsx)("span",{className:"title",children:e.description.toString()}),Object(o.jsx)("span",{className:"all_day_event",children:"true"})]})};var f=function(e){if(void 0===e.scheduled)return null;var t="";if(e.stages.length>0){dots="   ";for(var n=0;n<e.stages.length;n++)dots+="\xb7";t=" - "+x(e.scheduled_end)}console.log(e);var a=Object(c.useState)(!1),s=Object(i.a)(a,2),r=s[0],d=s[1];return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"event card p-1 row col",children:Object(o.jsx)("button",{className:"card-body bg-light text-dark text-decoration-none","aria-controls":e.key,"aria-expanded":r,onClick:function(){return d(!r)},children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h5",{className:"card-title",children:e.description}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)("small",{className:"text-muted",children:x(e.scheduled)+t})})]})})}),Object(o.jsx)("div",{className:"float cal col-auto",children:Object(o.jsx)("div",{className:"p-3",children:Object(o.jsx)(m,Object(b.a)({},e))})}),Object(o.jsx)(O.a,{in:r,children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"stages row",id:e.key,children:e.stages.map((function(e){return e.key=e.id,Object(o.jsx)(v,Object(b.a)({},e))}))})})})]})},y=n(25),p=n.n(y),g=n(97),N=n(157),S=n(17),w=n.n(S);var k=function(e){var t=w()(e.event.scheduled),n=w()(e.event.scheduled_end),a=w()(e.day);function s(){return e.event.single_event}function r(){return!s()&&a.isSame(t,"day")}function d(){return!s()&&a.isSame(n,"day")}return Object(c.useEffect)((function(){})),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"calEvent "+(s()?"oneDay ":" ")+(r()?"startDay ":" ")+(s()||0!==a.day()?" ":"newLineEvent ")+(d()?"endDay ":" ")+(s()||r()||d()?" ":"middleDay ")+(e.hidden&&"hiddenDay"),children:Object(o.jsx)("span",{className:"eventText",children:e.event.description})})})};var C=function(e){var t=p()().isSame(p()(e._d).add(1,"day"),"date");return Object(o.jsx)(N.a.Column,{className:t&&"today",style:{padding:0},children:Object(o.jsxs)("div",{className:"week "+e.weekClass+" "+e.dayClass,children:[Object(o.jsxs)("p",{className:"pt-1 mb-2",children:["\xa0\xa0",e.num]}),e.events.map((function(t,n){return 1==e.events.length&&e.shiftedEvents.includes(t)?[Object(o.jsx)(k,{hidden:!0,event:t,eventNum:n,day:e},n),Object(o.jsx)(k,{event:t,eventNum:n,day:e},n)]:Object(o.jsx)(k,{event:t,eventNum:n,day:e},n)}))]})})};var D=function(e){Object(c.useEffect)((function(){console.log(e)}),[e.events]);var t=[];return Object(o.jsx)(N.a.Row,{style:{padding:0},children:e[0].map((function(n,c){var a=e.events.filter((function(e){return(n=w.a.utc(n)).isSameOrAfter(e.scheduled,"day")&&n.isSameOrBefore(e.scheduled_end,"day")}));if(a.length>1)for(var s=1;s<a.length+1;s++)t.push(a[s]);return Object(o.jsx)(C,Object(b.a)({weekClass:"week"+e.num,dayClass:"day"+c,events:a,shiftedEvents:t,num:n.date()},n),c)}))})},A=n(94);var E=function(e){var t=[],n=w.a.utc(e.day),c=w.a.utc(n.startOf("month")),a=w.a.utc(c.subtract(c.day(),"days"));t.push(w.a.utc(a));for(var s=0;s<41;s++)t.push(w.a.utc(a.add(1,"day")));var r=Object(g.a)(Array(t.length/7)).map((function(e){return t.splice(0,7)}));return Object(o.jsxs)(N.a,{columns:7,divided:!0,children:[Object(o.jsx)(N.a.Row,{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,t){return Object(o.jsx)(A.a,{children:Object(o.jsx)("p",{children:e})},t)}))}),r.map((function(t,n){return Object(o.jsx)(D,Object(b.a)({num:n,events:e.events.filter((function(e){return t[0].isSameOrBefore(e.scheduled_end,"day")&&t[6].isSameOrAfter(e.scheduled,"day")})).map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{order:t})}))},[t]),n)}))]})},_=(n(136),n(156)),T=n(155);var B=function(e){var t=Object(c.useState)(p()()),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(p.a.months(a.month())),d=Object(i.a)(r,2),l=d[0],j=d[1],u=Object(c.useState)(a.year()),h=Object(i.a)(u,2),b=h[0],O=h[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(_.a,{children:Object(o.jsx)(T.a,{className:"pt-4",children:Object(o.jsxs)(N.a,{columns:3,children:[Object(o.jsx)(N.a.Column,{children:Object(o.jsx)("div",{style:{textAlign:"left"},children:Object(o.jsx)("button",{onClick:function(){s(a.subtract(1,"month")),j(p.a.months(a.month())),O(a.year())},children:"prev"})})}),Object(o.jsx)(N.a.Column,{children:Object(o.jsx)("div",{style:{textAlign:"center"},children:Object(o.jsx)("p",{children:l+" "+b})})}),Object(o.jsx)(N.a.Column,{children:Object(o.jsx)("div",{style:{textAlign:"right"},children:Object(o.jsx)("button",{onClick:function(){s(a.add(1,"month")),j(p.a.months(a.month())),O(a.year())},children:"next"})})})]})})}),Object(o.jsx)(T.a,{children:Object(o.jsx)(E,{events:e.events,day:a,setDay:s,month:l})})]})};var J=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)(Object(d.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("./getEvents").then((function(e){a(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(h,{}),Object(o.jsx)(f,{}),Object(o.jsx)("div",{className:"",children:Object(o.jsx)(B,{events:n})}),Object(o.jsx)("footer",{className:"d-flex container justify-content-center text-muted mt-4 mb-4",children:Object(o.jsx)("p",{children:"Created by Travis Bostick"})})]})};Object(a.render)(Object(o.jsx)(J,{}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.1b8da84f.chunk.js.map